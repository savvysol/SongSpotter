<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Song Spotter</title>
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">

    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.5.0/d3.min.js"></script>
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <!-- <script src="http://d3js.org/d3.v3.min.js"></script> -->

</head>


<body>
<div class="container">
    <div class="jumbotron" style="text-align: center">

        <h1>Song Spotter</h1>
        <p>Explore your favourite songs</p>

    </div>
</div>
<div class="container">
    <div class="row"> 
        <div class="col-sm-12"> 
                <p>
                <a class="btn btn-primary btn-lg disabled" href="/" role="button">Home</a>
                <a class="btn btn-primary btn-lg" href="/bubble" role="button">Artists</a>
                <a class="btn btn-primary btn-lg" href="/swarm" role="button">Features</a></a>              
                <a class="btn btn-primary btn-lg" href="/popularity" role="button">Popularity</a>
                <a class="btn btn-primary btn-lg " href="/cloud" role="button">Genres</a>
                <a class="btn btn-secondary btn-lg disabled" href="/gotToken" role="button">Add Me!</a></p>
        </div>
    </div>
    <div class="row"> 
        <div class="col-sm-8">   
            <h1>Whose music shall we explore?</h1>

            <form method="POST" action="/gotID" role="form", name="IDform">
                <select id="dropdown" name="username">
                    <option>Choose a User</option>
                  <!-- <option value="0">{{ list_of_users[0] }}</option>
                  <option value="1">{{ list_of_users[1] }}</option> -->
                </select>
                <br><br>
                <input type="submit" value="submit" class="btn btn-secondary btn-lg">
              </form>
              
              <script>
                    d3.json("/getusers" , function(error, json) {
                    
                        if(error) return console.warn(error);                    
                               
                    // Get dropdown element from DOM
                        var myArray = json;
                        console.log(myArray);
                        var dropdown = document.getElementById("dropdown");

                        // Loop through the array
                        for (var i = 0; i < json.length; ++i) {
                            // Append the element to the end of Array list
                            dropdown[dropdown.length] = new Option(json[i], json[i]);
                        }
                    });
              </script>
              <br>
              <p>The data for the visualizations is generated from a users Spotify account. Their top tracks are analyzed for musical features, genres and popularity. There will soon be a feature to add your own account! </p>
              <br><br>
              <br><br>
              <img src="../static/img/logo.jpg" alt="Spotify Logo" height="60">
              <br><br>      
            </div>

            <div class="col-sm-4">
                    <h1>Samples:</h1>          
                    <div id="new-play-button"></div> 
                    <script src="../static/js/app2.js"></script>
                </div>
    </div>
    <div class="row"> 
        <div class="col-sm-12">   
        </div>
    </div>

</div>
</body>
</html>

